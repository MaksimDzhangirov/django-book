# Часть 1: Рефакторинг проекта и знакомство с API для настроек Django

В этом разделе рассматриваются вопросы, касающиеся изменения структуры проекта, дается введение в API для настроек Django, а также проверяется работоспособность проекта!

---

## Введение

Для тех, кто только что присоединился к нам, предыдущая часть современного учебника по Django находится здесь: [Часть 0: Введение и начальная настройка](/chast-0-vvedenie-i-nachalnaya-nastroika.md).

GitHub этого проекта и всех его частей можно найти по [этой ссылке](https://github.com/djstein/modern-django).

На данный момент мы успешно создали Django проект. Тем не менее, предстоит ещё много сделать прежде, чем мы сможем сказать, что его можно использовать для локальной разработки и создания нашего первого приложения. Сначала мы должны добавить зависимости в проект \(файл `requirements.txt` - прим. переводчика\). Затем мы должны изменить настройки проекта. Мы создадим набор переменных окружения для хранения секретных значений. Все это приведет к увеличению скорости разработки, тестирования и развертывания нашего приложения в будущем.

После изменения настроек, мы пройдемся по стандартной части API для настроек Django, которые используются нашим проектом и были созданы при первом создании `settings.py`. Также мы познакомимся с некоторыми часто используемыми настройками не создаваемыми по умолчанию, например, касающиеся обработки статических файлов. Понимание API для настроек Django - это первый шаг, позволяющий пролить свет на то, что называется _Магией Django_. Мы проведем ещё одну небольшую реструктуризацию и затем убедимся в работоспособности проекта!

Важно, чтобы все новые пользователи чувствовали себя уверенно при работе с настройками Django, поэтому я извиняюсь перед теми из Вас, кто хорошо знает Django или хочет начать работать с [REST API](https://en.wikipedia.org/wiki/Representational_state_transfer). Я могу только попробовать развеселить Вас во время изучения частей касающихся настроек, как эта \(на этот раз все смешные картинки находятся внизу\).

**Замечание:** Будем откровенны. В этой части Вы увидите структуру приложения, аналогичную структуре, которую создала [Django команда Cookiecutter](https://github.com/pydanny/cookiecutter-django) \(**C**ookie**c**utter **D**jango - CCD\). Если мы не будем использовать CCD проект, то в конечном итоге просто расширим базовый Django проект, пока нам не понадобятся какие-то более сложные части, поэтому мне кажется, что такой способ лучше. Команда CCD столкнулась с множеством локальных и продакшен проблем и решила их. Я принял во внимание их структуру, сравнивая её с той, что нужна нам. Хотя на ранних стадиях наш проект может казаться похожим на их, важно пояснить что делается на каждом этапе вместо того, чтобы слепо создавать шаблонный проект. Наш проект будет сильно отличаться в будущем , но сейчас Вы можете заметить структурное сходство. Например, существенная разница будет заключаться в том, что мы удалим формирование страниц на стороне сервера \(как это делается в CDD и многих других проектах\), а будем использовать REST API в сочетании с фронтэнд JavaScript фреймворком.

**Временное замечание:** Это замечание касается тех, кто использовал старую версию Части 0 \(до 24/02/2017\), поскольку мы обновили структуру проекта. В частности была обновлена команда `django-admin startproject` из части 0. Простите, ребята. Чтобы привести старую структуру приложения к новой потребуется большое количество изменений. Поэтому проще для всех будет, если те, кто использовал старую версию Части 0, просто удалят каталог `project` и создадут проект, используя новое имя и путь.

Для этого перейдите в каталог `modern-django`, удалите старый проект и создайте новый. Используйте команды:

```
# Команды
cd ~/git/modern-django/
rm -rf project/
django-admin startproject config .
```

> Примечание переводчика. Эта часть переводилась после 24/02/2017, следовательно, ничего исправлять не надо.

### Используемые технологии



